<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
    <link rel="stylesheet" href="css/dashboard.css">
</head>

<body>

    <!-- Overlay for mobile -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>

    <aside class="sidebar" id="sidebar">
        <div class="sidebar-brand">
            Portfolio Admin
        </div>
        <ul class="nav-list">
            <li class="nav-item">
                <a href="dashboard.html" class="nav-link active">Dashboard</a>
            </li>
            <li class="nav-item">
                <a href="pitches.html" class="nav-link">Pitches</a>
            </li>
            <li class="nav-item">
                <a href="contact-requests.html" class="nav-link">Contact Requests</a>
            </li>
            <li class="nav-item">
                <a href="mentorship-requests.html" class="nav-link">Mentorship Requests</a>
            </li>
        </ul>
        <div class="logout-section">
            <a href="login.html" class="nav-link" style="color: #ef4444;">Logout</a>
        </div>
    </aside>

    <main class="main-content">
        <header class="top-header">
            <div class="header-left">
                <button class="hamburger-btn" id="hamburgerBtn">
                    â˜°
                </button>
                <div class="welcome-text">Welcome, Admin ðŸ‘‹</div>
            </div>
            <div class="date-display" id="currentDate"></div>
        </header>

        <div class="dashboard-container">
            <div class="section-title">Overview</div>

            <div class="cards-grid">
                <!-- Card 1: New Pitches -->
                <div class="summary-card">
                    <div class="card-title">New Pitches</div>
                    <div class="card-count" id="pitchesCount">0</div>
                    <div class="card-subtitle">Startup ideas received</div>
                </div>

                <!-- Card 2: Contact Requests -->
                <div class="summary-card">
                    <div class="card-title">New Contact Requests</div>
                    <div class="card-count" id="contactCount">0</div>
                    <div class="card-subtitle">People reached out via portfolio</div>
                </div>

                <!-- Card 3: Mentorship Requests -->
                <div class="summary-card">
                    <div class="card-title">New Mentorship Requests</div>
                    <div class="card-count" id="mentorshipCount">0</div>
                    <div class="card-subtitle">Students seeking guidance</div>
                </div>
            </div>
        </div>
    </main>

    <script>
        // Dummy Variables
        const pitchesCount = 12;
        const contactCount = 5;
        const mentorshipCount = 8;

        document.addEventListener('DOMContentLoaded', () => {
            // 1. Mobile Menu Toggle
            const hamburgerBtn = document.getElementById('hamburgerBtn');
            const sidebar = document.getElementById('sidebar');
            const sidebarOverlay = document.getElementById('sidebarOverlay');

            const toggleSidebar = () => {
                sidebar.classList.toggle('active');
                sidebarOverlay.classList.toggle('active');
            };

            hamburgerBtn.addEventListener('click', toggleSidebar);
            sidebarOverlay.addEventListener('click', toggleSidebar);

            // 2. Set Date
            const dateElement = document.getElementById('currentDate');
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            const today = new Date();
            dateElement.textContent = today.toLocaleDateString('en-US', options);

            // 3. Inject Counts with Animation
            const animateValue = (id, start, end, duration) => {
                const obj = document.getElementById(id);
                let startTimestamp = null;
                const step = (timestamp) => {
                    if (!startTimestamp) startTimestamp = timestamp;
                    const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                    obj.innerHTML = Math.floor(progress * (end - start) + start);
                    if (progress < 1) {
                        window.requestAnimationFrame(step);
                    }
                };
                window.requestAnimationFrame(step);
            };

            animateValue("pitchesCount", 0, pitchesCount, 1000);
            animateValue("contactCount", 0, contactCount, 1000);
            animateValue("mentorshipCount", 0, mentorshipCount, 1000);
        });
    </script>
</body>

</html>